sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- yarn add polymer-cli
- polymer install --variants
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: i2Q3SWxc2z4lPFscIRmXi2fWqozKpZSV30j2SR2TXjthvbrzY6NixteEfkOxZ5Cy0F4mxqCZIGWJ2CrIzhFBDUFkI6i6W82wARJtdTMtycUOCile4BpHQsE2NIJJfCrELEciNA6yEBz3IiBqHQgmOCVPYJ5vKtWv8yC6MuEWhVC95ps4PgqWMQ/jDpLd5LbqeUDlygXXkBqlmrkmOaiaV6yI5+ze7uLz4HrcnKXQ3ygK/d6PY42nzc3amhofWZQNBT5dWMWr3d1BvJ400YWQwT+38L4hl1hc+nwMO9nxPTDLJ37Qa8KtM5TUWcjvAON8HSr74NBx9DtoR9ZBSbpl1mB/V/N2/7Ek5eDZZdO/GE6PzHIziOp+su+5q26O97Whv6zYHzQLwjxzSwKDbsSHUdbIoRMiWmM5i/62FsV8Hmay8weoA1NS4qIXr5DpokwGcSv8x2FIju4mIwFyHBJy6NWa+bkn6huaxflaeQOsYQ9W8kyynDK7iEH36NPfFxzdLYNbxp+x/790cOhlkTHac1+mBte2VDDQMSJ/mgSBEnCl2ikjWJwPMKHBWag/fptndN/gSl26S1COdBrh4gXW8Wfgx8pvtxAnWVabAHhQLq10JUYzrVAcJ53QuQHwkfO8ROWY2whnMnvS0vo7o6WU/9j52jN+4xPu+ZpMzP/98cE=
  - secure: YrW4aYcv4piyYPNV8j/9o3Zyr7D0CrvPsVuK3/ttf8JzlpIr1PLBVcuEbI2x83LpvgbcWYOfwt9hZmKj7yPNWu2+uoHeA6kM9FBdoALoFg33wjIxMoAXsIs7pG+XBEjK9a/C0XetDTadHmClJqzwbgkESTuLMTTm4PTdzrdttOEdEZj1UpT8wFNTOo3aevACVEhMzvUOEw7HixpPJziuMmq2xz+VUM8bfuz/aaBoZD0g/gYJTfLQFk6FFIaq1iBe69rBauJBbTF4nfyvp3DgXEydu/NLEGOCNMWzo0Wuy2B7QPHS4wPZZHmKG2OufBUJ0SVNYoC7xJs9WhTZtG7s5a8aSFHUE8eED5dLveuktjMuMKSYyjU/mIeVXJDYoPsDpA9+LAF2BbepoJKwXLcuBGN4kIAKECOPsW/TL4gcyjOUx8emoYIkgoDguSU8U+qPjIMvC7rHLziuC8RXzLCH0dceDXZwNNpOuDbFvJNZRkeFowcfolvnx4OhJGCPnHXjdWbplUTzeSTFVW/1i2jEK74mn61y08lT8nxgILLhHDDvKCcGOuRmsjjFoIumOcl86tCmdJgoglh2RF2XweW3jw2WkUIu0xI3cmvPM++qYfufF5VA+bljZgxeUtRqLeQ3aa4JjAABUULEfJntOuMFe/Y2JDcZfE0hI/cxC85bDGI=
  - secure: jhgFkz4d4XoPn+H/5nGMavkYptma80iUEq/LE+WmzKvC+xHVtCqw7Xe/+wUKnchrR4mHN88/gVBPRir3HJmlBQ+3R6OB+xPq5vXlZr6lB0UbTL/SQs00MdwfS2w+seTx65Gd3uZ1LxHPm9IqHGEMR76PTC0/y27yq/XDloFmryD8d74srbrX8MoV3BW7CLQ7yM9bLTrGF5mzwyOOyhbsOXFMVd9ZYLky1ruPU4W2UkjRe9APKsdJJbxVl+aV5eplDBZFta+rLm7bubd0hTnFnDPW4cROTYUt3Xvx10tJUAczPqBJmZ6HstNutWQJKXuETsw9q+MOEKlFW9QpcbfLGI8KyXvVSyWBAsyuoYnm3MfDEfn6erIBpLdFqpvfNwnNrzY65PA8j1RUF9SeF/h5YVWSqN0K4prPBTV24DX6GnY/2TfGhwYIluD/IGD4TzgmZXeGON4KiJ1wYTYemyzARmdMwllMgHvGHQq5W+z5pJmsMaWNVFVelqRBJVojmY+stsusg7QmGFFq560nwOntlKmOjljkju2uSV3c9zPEU8kNE9ch30KVok2n3UckHO3+NLpARqomagyJWbU1ooc4y9BFE2Z9pdE0yUT9RkOgrA/hDZFa3aT8GPf8IYyDT1fLayG4PWX4GuR2g8M/wvJ7tPVQuSgD6iJMGy1KfsgpBSY=
  - secure: rISsZQZi0iaDAgqzIGyPmW2O550mUCpNLtSo/hup7x3JxquJi/77KATLSegPiJlWg5eL0tJi2auo85QBcyMsKmTZLKhsg3cSlzhYxJN55HHCU88pc+dxcSt3LnojudYB8iFn824R6GBY9TculjDZI2H/oykjjQOoSQxT3yGn6nbScSHJWsJOu/GFsOpti5iILfPqq9JDmb2bR8HCkakuf8RsoB2m4htk2rXoO0nzYLxxV3AGatFzDY2qK3FfqNEJxkzLOBhLwExSm1sBwT5GtPnh6+u5t/4rWnJlPtE5nT4psSmP/rfvo9YOCkxmNjVcehdk8uQFw4n5TIKXnS11Lq8Qc7uUf6EZ9n9/oe8m5HswYYO9kEOfk7V1I73LA7xNmmQViRUEhl4vFGkujxMWJRBMM9otwPBLfwdRNDCuhM1/drkUuVlWy7bJGM7ChLiQxrkPDjyzr9JPVqdGCX4QgyalUm4CFnioPvBd35oZaFmCPl5lRVtrPPim2ppeZ/SzrOdDnBx6mq9zj7tkuUQ2FaRmyuykoJaU7d7vmLKOh1Cu49wBOKEJcqu/l5InRXncDv4oTEdH6mO5bN3NFmZ4AQENJDPqaY3+D9RYE+qli3hJzBjBdthu60qhUmkTfzGc4iMJg3KivACyIEUzPt+hELG5j1BVXk8JmxkUnWBQrQY=
  - secure: mMNmGd6fD9zzaZSCeh7TyjBEq8METKfglfH63Y9/Xub95wdjOu//TfiVaolLjESv9zb7KOCqEnwB721eNqbmlWi+YVnVRj8pJgu9mnn+GLkb5xyS84E9vP1YtGkAO1w1HHN0a1GefXq6F7WZLh9dry+TeYdDrIS/3ylfBLmmyhTR235c/LO11zhUMjSFhgB8YTUdPw0hN9xM36AGzPlrV8/yWeDsQzX8b9+sKDHoVtj5QxVtitSg3LxU7AGTTORVisArCTpX0dCj2hb15Aby+CAyXuuYZQbMpbmTNNRvrTo6oNMgG38bgYsygvDyPDkBLxFHpCUPsBXZIhds5Qwdxpx8Udxg9qx5NPXpx48tTgyRiXswa4/cxs1sR4kIi2Id6eBrg7l6ewWDurjUvQsELPyQ2qqVVm7Bz01ZLYhUcp1O1XMxDIGJ3y1MImeBD8wXNdZHK5mAooSHJaa2g43idf8jjQbBhPAxlXy4xPuiO6+dIf936ArEqBe/kegforcdZ/M9tng3DEaxRoUmZBl6GngAw4wDlQvQHIqGSJdodwfnu513RqGaIvrfYQZEP5lLKr8WRrkE6QZ+86DsOUP6fkdKKSaQIXbATUbB49MNOR3V0zv4a7+aCoYhkL/2xtILH6iA5K3qApYQ6rE4JRJoRibDg4b+ATbHK5/W6KJz/Ws=
  - secure: po9Acjfc8VQvhRqTeUn8T/EChj/mDNIpAiGHzkZ5RyYM9PB62c0kSSbOrnabJUuf5G+PR3wOexq1fQsxZR2UX3nwBcnkKfR/kK9B3aC80f7PcXWybSLqTiDM1I8TOphJq2n6aoZC84x7X6o74J2nQy23PtZGLQelzsS8NL3MKEYiHWr5mD72Mf+s58uuMz1skn4gJOJcWSMvBuPTKL8Vmen85opDqH0lx2Gf0FTlQMJ1P7LQQo8NBNi0A/ph/+0AnwYiDcU9ljaM5ED4E8SkuPN+D+T97AqZmaGQPYFGYbHBDj4u2sdweSzL9tTCAZfkCA+9+WiymLig1jWv8+OLWjorXALpQMddJPTE4KuZQOqSgLPqmtMofi+bNscGz1Gzeced6EkCmy2YYBYGdeRmc29mL2V5yp77ioaYQQSY+pMuxXHJ/5+7LT8ikCO8+hZHS++TmTyW0mTsKjnoB18NgINsjhgHzVt50rlJkXW1ZLJdMPpBnFKdiBkJWQxLfRkcPeXKTVxm91XQk2/8fEwAqcgaBatLQTWu8ok4rHnTYJG8wANn2ppyhC79dEdYhivXrttpe2aMqDNJW/byWxvuCSVQh3oxjRnIl+Qj588tpuuJewtybrMJL0g+9HLHXGs6PcklN54Uz+vk+xR7OV8/oZkMGa+BSieLBzh/UWKE0AU=
